/*****************************************************************//**
 * \file   VertexBuffer.h
 * \brief  頂点バッファクラス
 * 
 * \author Hiroto Kuge
 * \date   October 2022
 *********************************************************************/

#pragma once

//=============================================================================
// Vertex Buffer Class
//=============================================================================
class VertexBuffer{
	//-----------------------------------------------------------------------------
	// list of friend classes and methods
	//-----------------------------------------------------------------------------
	//!{
			/* Nothing */
	//!} 
public:
	//-----------------------------------------------------------------------------
	// public variables.
	//-----------------------------------------------------------------------------
	//!{
			/* Nothing */
	//!} 
	//-----------------------------------------------------------------------------
	// public methods.
	//-----------------------------------------------------------------------------
	//!{
	


	/*****************************************************************//**
	 * \brief デストラクタ
	 *********************************************************************/
	~VertexBuffer();

	/*****************************************************************//**
	 * \brief 初期化
	 * 
	 * \param size	 バッファサイズ
	 * \param stride バッファのストライド:1頂点のサイズ
	 *********************************************************************/
	void Init(uint32_t size, uint32_t stride);

	/*****************************************************************//**
	 * \brief データをコピー
	 * 
	 * \param srcVertices　コピー元のデータ
	 *********************************************************************/
	void Copy(void* srcVertices);

	/*****************************************************************//**
	 * \brief 頂点バッファビューを取得
	 * 
	 * \return 頂点バッファビュー
	 *********************************************************************/
	const D3D12_VERTEX_BUFFER_VIEW& GetView() const{
		return m_vertexBufferView;
	}

	/*****************************************************************//**
	 * \brief 頂点バッファのストライドを取得
	 * 
	 * \return ストライド(単位：バイト)
	 * \memo ストライドは1要素のサイズ
	 *		 ここでは1頂点のサイズを取得する
	 *********************************************************************/
	UINT GetStrideInBytes() const{
		return m_vertexBufferView.StrideInBytes;
	}
	
	/*****************************************************************//**
	 * \brief リソースのアドレスを取得
	 * 
	 * \return リソース 
	 *********************************************************************/
	ID3D12Resource* GetID3DResourceAddress() const{
		return m_pVertexBuffer;
	}

	//!} 
private:
	//-----------------------------------------------------------------------------
	// private variables.
	//-----------------------------------------------------------------------------
	//!{
	
	ID3D12Resource*			 m_pVertexBuffer;	//頂点バッファ
	D3D12_VERTEX_BUFFER_VIEW m_vertexBufferView;		//頂点バッファビュー

	//!} 
	//-----------------------------------------------------------------------------
	// private methods.
	//-----------------------------------------------------------------------------
	//!{

	//!} 
};

